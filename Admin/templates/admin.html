<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/css/bootstrap-datepicker.min.css" rel="stylesheet"/>
 <script src="http://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
</head>
<body onload="getPartInfo()">
    <div id="navbar" style=" z-index: 1; max-width:100% !important; opacity: .98; height: 70px !important; padding-top: 22px; padding-right: 5%; background-color: #367C2B; position: fixed;"
    class="container sticky">
    <div class="row">
      <div class="col-8" style="width: auto;">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        <a id="link1" href="/Dashboard"
          style="text-decoration: none !important;color:white;cursor:pointer;">Dashboard</a> &nbsp;&nbsp;
        <a id="link2" href="/Parts"
          style="text-decoration: none !important;color:white;cursor:pointer;">Parts</a> &nbsp;&nbsp;
        <a id="link3" href="/Equipment"
          style="text-decoration: none !important;color:white;cursor:pointer;">Equipment</a> &nbsp;&nbsp;
          <a id="link5" href="/Suppliers"
          style="text-decoration: none !important;color:white;cursor:pointer;">Suppliers</a> &nbsp;&nbsp;
          <a id="link5" href="/Locations"
          style="text-decoration: none !important;color:white;cursor:pointer;">Locations</a> &nbsp;&nbsp;
          <a id="link5" href="/Admin"
          style="text-decoration: none !important;color:white;cursor:pointer;">Admin</a> &nbsp;
        </div>
      <div class="col-sm" style="position: relative;  width:auto; text-align: right;">
        <a id="link4" href="/Logout"
          style="position: relative; text-decoration: none !important;color:white;cursor:pointer;">Log Out</a>
      </div>
    </div>
  </div>
  <br>
    <div id="loader" style="padding-left: 5%; padding-right: 5%; margin-right: 0%;padding-top: 70px; ">
        <div class="d-flex justify-content-center">
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>
    </div>
    <div id="bigdiv" style="padding-left: 5%; padding-right: 5%; margin-right: 0%;padding-top: 70px; display:none">
        <div id="beginning" style="text-align: center; font-size: 20px">

        </div>
        <br>
        <br>
        <div align="center" style=" text-align: center;padding-left: 15%; padding-right: 15%;">
            <div class="input-group mb-3" style="margin-bottom: 0px !important;">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">@</span>
                </div>
                <input id="newUsername" type="text" class="form-control" placeholder="New Email/Username" aria-label="Username" aria-describedby="basic-addon1">
              </div>
              <br>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text" >Name</span>
                </div>
                <input id="newName" type="text" placeholder="New Name" class="form-control">

              </div>
              <br>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text" >Password</span>
                </div>
                <input id="newPassword" type="text" placeholder="New Password" class="form-control">

              </div>
              <br>
                <br>
                <br>
                <button onclick='$("#exampleModalCenter0").modal()' type="button" class="btn btn-warning">Save Changes</button>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <button onclick='$("#exampleModalCenter1").modal()' type="button" class="btn btn-danger">Deactivate Account</button>


            <br>
            <br>
            <br>
            <div>
                <div id="beginning" style="text-align: center; font-size: 20px">Seeding Date Range (Start - Finish)</div>
                <div class="input-group date" data-provide="datepicker" style="width: 28%; margin: 0px; position: absolute">
                <input type="text" class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
                </div>
                <div class="input-group date" data-provide="datepicker" style="width: 28%; margin: 0px; position: absolute; margin-left: 28%">
                <input type="text" class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
                </div>
                <button type="button" class="btn btn-warning" style="position: absolute; margin-left: 24.5%">Save</button>
            </div>
            <br><br>
            <div>
                <div id="beginning" style="text-align: center; font-size: 20px">Spraying Date Range (Start - Finish)</div>
                <div class="input-group date" data-provide="datepicker" style="width: 28%; margin: 0px; position: absolute">
                <input type="text" class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
                </div>
                <div class="input-group date" data-provide="datepicker" style="width: 28%; margin: 0px; position: absolute; margin-left: 28%">
                <input type="text" class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
                </div>
                <button type="button" class="btn btn-warning" style="position: absolute; margin-left: 24.5%">Save</button>
            </div>
            <br><br>
            <div>
                <div id="beginning" style="text-align: center; font-size: 20px">Harvest Date Range (Start - Finish)</div>
                <div class="input-group date" data-provide="datepicker" style="width: 28%; margin: 0px; position: absolute">
                <input type="text" class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
                </div>
                <div class="input-group date" data-provide="datepicker" style="width: 28%; margin: 0px; position: absolute; margin-left: 28%">
                <input type="text" class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
                </div>
                <button type="button" class="btn btn-warning" style="position: absolute; margin-left: 24.5%">Save</button>
            </div>
            <br><br>
            <div>
                <div id="beginning" style="text-align: center; font-size: 20px">Winter Date Range (Start - Finish)</div>
                <div class="input-group date" data-provide="datepicker" style="width: 28%; margin: 0px; position: absolute">
                <input type="text" class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
                </div>
                <div class="input-group date" data-provide="datepicker" style="width: 28%; margin: 0px; position: absolute; margin-left: 28%">
                <input type="text" class="form-control">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-th"></span>
                </div>
                </div>
                <button type="button" class="btn btn-warning" style="position: absolute; margin-left: 24.5%">Save</button>
            </div>

            <br>
            <br>
            <br>
            <br>
            <button onclick='$("#ModalCenter").modal()' type="button" class="btn btn-primary">Create Part</button>

            <button onclick='$("#ModalCenter2").modal()' type="button" class="btn btn-primary">Create Equipment</button>


            <button onclick='$("#ModalCenter3").modal()' type="button" class="btn btn-primary">Create Location</button>

            <button onclick='$("#ModalCenter4").modal()' type="button" class="btn btn-primary">Create Supplier</button>

            <br>
            <br>
            <br>
            (DANGER ACTIVATE MACHINE LEARNING MODELS)
            <br>

            <input type="checkbox" data-toggle="toggle" style="outline: black !important; outline-width: 3px;">
        </div>
    </div>
    <br>

    <footer style="height: 200px;">
        <br>
        <div align="center" style="position: relative; vertical-align: middle;">
            
        </div>
    </footer>
    <div class="modal fade" id="exampleModalCenter0" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">Are You Sure You Would Like to Continue?</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              Once you click save the changes will take effect immediately. As a security precaution you will be logged out.
            </div>
            <div class="modal-footer">
                <div style="position: relative; margin-right: 340px;">
                    <button style="text-align: left;" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
                <div>
                    <button type="button" class="btn btn-warning" onclick="saveChanges()">Save</button>
                </div>
              </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="exampleModalCenter1" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">Are You Sure You Would Like to Continue?</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              Once you click save the changes will take effect immediately. As a security precaution you will be logged out.
            </div>
            <div class="modal-footer">
                <div style="position: relative; margin-right: 340px;">
                    <button style="text-align: left;" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
                <div>
                    <button type="button" class="btn btn-warning" onclick="deleteUser()">Save</button>
                </div>
              </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="ModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">Create Part</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">Name of Part</span>
                    </div>
                    <input type="text" id="newPartName" class="form-control">

                  </div>
                  <br>

                    <div class="form-group">
                    <label for="partSelect">Supplier</label>
                    <select class="form-control" id="partSelect">

                    </select>
                  </div>

                <div class="form-group">
                    <label for="partSelect2">Location</label>
                    <select class="form-control" id="partSelect2">

                    </select>
                  </div>

                <div class="form-group">
                    <label for="partSelect2">Quantity</label>
                    <select class="form-control" id="partSelect00">

                    </select>
                  </div>

                <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="partRadio1">
                    <label class="form-check-label" for="exampleCheck1">Used for Harvest?</label>
                  </div><br>
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="partRadio2">
                    <label class="form-check-label" for="exampleCheck1">Used for Spraying?</label>
                  </div><br>
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="partRadio3">
                    <label class="form-check-label" for="exampleCheck1">Used for Seeding?</label>
                  </div><br>
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="partRadio4">
                    <label class="form-check-label" for="exampleCheck1">Used throughout Winter?</label>
                  </div>

            </div>
            <div class="modal-footer">
                <div style="position: relative; margin-right: 340px;">
                    <button style="text-align: left;" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
                <div>
                    <button type="button" class="btn btn-warning" onclick="createPart()">Save</button>
                </div>
              </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="ModalCenter2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">Create Equipment</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="">Name</span>
                    </div>
                    <input type="text" id="equipmentName" class="form-control">

                  </div><br>
                  <div class="form-group">
                    <label for="exampleFormControlSelect1">Year</label>
                    <select class="form-control" id="equipmentSelect">
                      <script>
                        var result
                        for(i = 1955; i <= new Date().getFullYear(); i++) {
                          result += "<option>"+i+"</option>"
                        }
                        document.write(result)
                      </script>
                    </select>
                  </div>
            </div>
            <div class="modal-footer">
                <div style="position: relative; margin-right: 340px;">
                    <button style="text-align: left;" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
                <div>
                    <button type="button" class="btn btn-warning" onclick="createEquipment()">Save</button>
                </div>
              </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="ModalCenter3" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">Create Location</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text" >Name</span>
                    </div>
                    <input type="text" id="locationName" class="form-control">

                  </div><br>

            </div>
            <div class="modal-footer">
                <div style="position: relative; margin-right: 340px;">
                    <button style="text-align: left;" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
                <div>
                    <button type="button" class="btn btn-warning" onclick="createLocation()">Save</button>
                </div>
              </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="ModalCenter4" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">Create Supplier</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text" >Name</span>
                    </div>
                    <input type="text" id="supplierName" class="form-control">

                  </div><br>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="">Email</span>
                    </div>
                    <input type="text" id="supplierEmail" class="form-control">

                  </div><br>
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text" id="">Phone Number</span>
                    </div>
                    <input type="text" id="supplierPhone" class="form-control">

                  </div><br>
                  <div class="form-check">
                    <input type="checkbox" class="form-check-input" id="exampleCheck42">
                    <label class="form-check-label" for="exampleCheck">Email me this, if parts from them are running low/out</label>
                  </div>
            </div>
            <div class="modal-footer">
                <div style="position: relative; margin-right: 340px;">
                    <button style="text-align: left;" type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
                <div>
                    <button type="button" class="btn btn-warning" onclick="createSupplier()">Save</button>
                </div>
              </div>
          </div>
        </div>
      </div>
      <script>
        function saveChanges() {
          data = {userName: $('#newUsername').val(), name: $('#newName').val(), password: $('#newPassword').val()}
          $.ajax({
            type: "POST",
            url: location.origin+"/Admin/Save/Changes",
            data: "sendData=" + JSON.stringify(data),
            dataType: "json",
            success: function (data) {
                window.location.pathname = "/"
            },
            error: function () {
              alert("OPERATION FAILED. TRY AGAIN")
            }
          });
        }
      </script>
      <script>
        function deleteUser() {
          $.ajax({
            type: "GET",
            url: location.origin+"/Admin/Save/Deletion",
            success: function (data) {
                $("#exampleModalCenter1").modal('toggle')
                window.location.pathname = "/"
            },
            error: function () {
              alert("OPERATION FAILED. TRY AGAIN")
            }
          });
        }
      </script>
      <script>
        function getPartInfo() {
             $.ajax({
            type: "GET",
            url: location.origin+"/Admin/Load",
            dataType: "json",
            success: function (data) {
                $("#beginning").append("Welcome "+data.user.username)
                result = ""
                result2 = ""
                result3 = ""


                for(i = 0; i < data.suppliers.length; i++) {
                    result += '<option value="'+data.suppliers[i].id+'">'+data.suppliers[i].name+"</option>"
                }

                 for(i = 0; i < data.locations.length; i++) {
                    result2 += '<option value="'+ data.locations[i].id+'">'+data.locations[i].name+"</option>"
                }

                for(i = 0; i < 51; i++) {
                    result3 += '<option value="'+i+'">'+i+"</option>"
                }

                $("#partSelect2").append(result)
                $("#partSelect").append(result2)
                $("#partSelect00").append(result3)

                $("#bigdiv").css({"display":""})
                $("#loader").css({"display":"none"})
            },
            error: function () {
              alert("OPERATION FAILED. TRY AGAIN")
            }
          });
        }
      </script>
      <script>
        function createPart() {
          data = {name: $('#newPartName').val(), quantity: $('#partSelect00').val(), supplier: $('#partSelect').val(), location: $('#partSelect2').val(),
          harvest: $('#partRadio1').is(":checked"), spraying:$('#partRadio2').is(":checked"),
              seeding: $('#partRadio3').is(":checked"), winter: $('#partRadio4').is(":checked")}
          $.ajax({
            type: "POST",
            url: location.origin+"/Admin/Create/Part",
            data: "sendData=" + JSON.stringify(data),
            dataType: "json",
            success: function (data) {
                $("#ModalCenter").modal('toggle')
                location.reload()
            },
            error: function () {
              alert("OPERATION FAILED. TRY AGAIN")
            }
          });
        }
      </script>
      <script>
        function createEquipment() {
          data = {name: $('#equipmentName').val(), year: $('#equipmentSelect').val()}
          $.ajax({
            type: "POST",
            url: location.origin+"/Admin/Create/Equipment",
            data: "sendData=" + JSON.stringify(data),
            dataType: "json",
            success: function (data) {
                $("#ModalCenter2").modal('toggle')
                location.reload()
            },
            error: function () {
              alert("OPERATION FAILED. TRY AGAIN")
            }
          });
        }
      </script>
      <script>
        function createLocation() {
          data = {name: $('#locationName').val()}
          $.ajax({
            type: "POST",
            url: location.origin+"/Admin/Create/Location",
            data: "sendData=" + JSON.stringify(data),
            dataType: "json",
            success: function (data) {
                $("#ModalCenter3").modal('toggle')
                location.reload()
            },
            error: function () {
              alert("OPERATION FAILED. TRY AGAIN")
            }
          });
        }
      </script>
      <script>
        function createSupplier() {
          data = {name: $('#supplierName').val(), email: $('#supplierEmail').val(), phone: $('#supplierPhone').val(), emailPref: (($('#exampleCheck42').is(":checked")) ? 1 : 0)}
          $.ajax({
            type: "POST",
            url: location.origin+"/Admin/Create/Supplier",
            data: "sendData=" + JSON.stringify(data),
            dataType: "json",
            success: function (data) {
                $("#ModalCenter4").modal('toggle')
                location.reload()
            },
            error: function () {
              alert("OPERATION FAILED. TRY AGAIN")
            }
          });
        }
      </script>
</body>

</html>
